# 리팩토링

> 마틴 파울러 리팩토링을 읽은 후 정리

> 실제로 서비스를 개발해 본 뒤, 한번 더 읽는 것이 좋을 것 같다

## 1. 코드의 품질은 변경 가능성과 유지보수성을 통해 측정된다
- 리팩터링은 코드의 기능을 변경하지 않으면서, 내부 구조를 개선하는 과정이다.
- 목표는 가독성, 확장성, 유지보수성을 높이는 것이다.
- 좋은 코드는 변화에 쉽게 적응할 수 있는 코드다.
- 추가 기능이 필요할 때 쉽게 추가할 수 있도록 인간이 알아볼 수 있는 구조로 만들어야 한다.

## 2. 작은 단계로 안전하게 변경하라

- 리팩터링은 작은 단계로 진행되어야 한다. 이렇게 하면 변경 도중 문제가 발생했을 때 쉽게 되돌릴 수 있다.
- Test로 품질을 유지하고, 리팩토링을 할 때 Test를 활용하여 작은 단위를 테스트해야한다.
- 자동화된 테스트는 리팩터링의 필수 요소다.

## 3. 코드 냄새(Code Smell)를 감지하라
- "코드 냄새"란 코드에 문제가 있다는 신호다. 직접적인 버그는 아니지만, 장기적으로 유지보수를 어렵게 만든다.
    - 중복 코드
    - 긴 메서드
    - 과도한 클래스
    - 의존성이 높은 모듈

## 4. 기술 부채를 줄여라

- 리팩터링은 코드 품질을 개선해 기술 부채(Technical Debt)를 갚는 과정이다.
    - 기술 부채는 소프트웨어 개발 과정에서 빠른 개발을 위해 품질을 희생한 결과로 남는 문제를 말한다.
    - 빠른 출시를 위해 설계를 간소화하거나 중복된 코드를 작성하면 단기적으로는 작업 속도가 빨라지지만, 이후 코드 변경이나 확장이 어려워지는 비용이 발생한다.

- 단기적으로는 추가 작업처럼 보이지만, 장기적으로는 개발 속도를 유지하고 코드 변경 비용을 줄여준다.

## 5. 리팩터링은 지속적인 과정이다

- 리팩터링은 한 번의 이벤트가 아니라 지속적인 과정이다.
- 새로운 요구사항을 반영할 때, 혹은 버그를 수정할 때마다 코드를 개선하는 기회로 삼아야 한다.
- 리팩터링을 위한 시간을 별도로 마련하기보다는, 기존 작업 흐름에 자연스럽게 포함시키는 것이 중요하다.
- 리팩토링을 해서 코드에 문제가 생긴다면, 그것은 리팩토링이아니라 리스트럭처링이다.
    - 리스트럭처링은 코드의 구조를 변경하면서, 외부 동작도 바뀌는 작업이다.

## 6. 코드는 단순하고 명확하며 의도가 드러나야 한다.

- 좋은 설계는 단순하고 명확하며, 의도가 드러나는 코드를 작성하는 것이다.

## 7. 리팩터링은 팀 문화다
- 리팩터링은 개인의 작업이 아니라 팀 전체의 문화로 자리 잡아야 한다.
- 코드 리뷰와 협업을 통해 리팩터링을 지속적으로 실행해야 한다.
- 팀원 모두가 코드 품질 개선에 책임을 가져야 한다.

## RECAP
> 리팩터링은 코드를 더 쉽게 이해하고, 수정하고, 확장할 수 있도록 개선하는 것이다. 이는 코드의 동작을 유지하면서 내부 설계를 개선하여 개발의 생산성을 높인다.